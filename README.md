# Plugins Manager

<img src="https://github.com/user-attachments/assets/a09b8f46-f0b8-4615-8987-4ef01d2373c1" width="600" />

Данный инструмент решает проблему доставки обновлений и новых плагинов до пользователей.

PluginsManager - плагин для Revit, который позволяет создавать гибкое настраиваемое пространство для запуска команд из других плагинов. Данный инструмент вдохновлен проектом Revit Add-in Manager.

Плагин подгружает специально настроенные команды из всех dll файлов в выбранной папке и создает структуру из вкладок в отдельном окне. С PluginsManager становится достаточным просто обновить dll файл в папке на общем сервере, а для пользователей обновления становятся полностью бесшовными.

<img src="https://github.com/user-attachments/assets/a4063c8e-6d80-41d9-8262-1eb1d7c3040c" width="200" />

## Features

### Запуск

Плагин рсполагается на вкладке "Надстройки" и при первом запуске предлагает выбрать папку с dll файлами.

![image](https://github.com/user-attachments/assets/810a0c94-4a4d-482e-8147-863d48f33730)

### Подготовка внешних dll файлов

Для попадания команды в плагин, необходимо добавить в класс с интерфейсом IExternalCommand следующие поля:

```c#
public static string IS_TAB_NAME => "Название вкладки";
public static string IS_NAME => "Название команды";
public static string IS_IMAGE => "Название проекта.Resources.Название изображения.png";
public static string IS_DESCRIPTION => "Описание";
```
Для того, чтобы изображение считалось плагином, оно должно быть добавлено в ресурсы проекта и иместь свойство "Embedded resource"

### Настройка и дополнительные возможности

Плагин создает файл конфигурации в директории %appdata%/PluginsManager.

```xml
<Settings>
  <FolderPath>C:\Users\ilyas\Desktop\SVLV\temp\savelev_plugin\savelev_plugin\bin\Debug</FolderPath>
  <ExceptionTabs>Здесь можно указать названия вкладок, которые нужно скрыть</ExceptionTabs>
  <Post>user</Post>
</Settings>
```
FolderPath - сюда сохраняется путь к папке с dll файлами

ExceptionTabs - тут можно через любой разделитель указать названия вкладок, которые нужно скрыть. Например, таким образом можно для архитекторов скрыть вкладки "КР" и "ИОС". По умолчанию поле пустое.

Post - поле для обозначения роли. По умолчанию "user". Если значение заменить на "manager", то станут доступны вкладки, у которых в названии есть решетка "#". Таким образом можно отделять команды и плагины для тестирвоания или для внутреннего использования.

